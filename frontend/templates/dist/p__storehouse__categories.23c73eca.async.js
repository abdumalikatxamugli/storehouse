(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[20],{5966:function(re,S,s){"use strict";var f=s(67294),h=s(73728),I=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"];function x(){return x=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var b=arguments[u];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(o[v]=b[v])}return o},x.apply(this,arguments)}function O(o,u){if(o==null)return{};var b=m(o,u),v,P;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(o);for(P=0;P<E.length;P++)v=E[P],!(u.indexOf(v)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,v)||(b[v]=o[v]))}return b}function m(o,u){if(o==null)return{};var b={},v=Object.keys(o),P,E;for(E=0;E<v.length;E++)P=v[E],!(u.indexOf(P)>=0)&&(b[P]=o[P]);return b}var c="text",w=function(u){var b=u.fieldProps,v=u.proFieldProps,P=O(u,I);return f.createElement(h.Z,x({mode:"edit",valueType:c,fieldProps:b,filedConfig:{valueType:c},proFieldProps:v},P))},p=function(u){var b=u.fieldProps,v=u.proFieldProps,P=O(u,i);return f.createElement(h.Z,x({mode:"edit",valueType:"password",fieldProps:b,proFieldProps:v,filedConfig:{valueType:c}},P))},d=w;d.Password=p,d.displayName="ProFormComponent",S.Z=d},90672:function(re,S,s){"use strict";var f=s(67294),h=s(73728),I=["fieldProps","proFieldProps"];function i(){return i=Object.assign||function(c){for(var w=1;w<arguments.length;w++){var p=arguments[w];for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(c[d]=p[d])}return c},i.apply(this,arguments)}function x(c,w){if(c==null)return{};var p=O(c,w),d,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(o=0;o<u.length;o++)d=u[o],!(w.indexOf(d)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,d)||(p[d]=c[d]))}return p}function O(c,w){if(c==null)return{};var p={},d=Object.keys(c),o,u;for(u=0;u<d.length;u++)o=d[u],!(w.indexOf(o)>=0)&&(p[o]=c[o]);return p}var m=function(w,p){var d=w.fieldProps,o=w.proFieldProps,u=x(w,I);return f.createElement(h.Z,i({ref:p,mode:"edit",valueType:"textarea",fieldProps:d,proFieldProps:o},u))};S.Z=f.forwardRef(m)},96648:function(re,S,s){"use strict";s.r(S),s.d(S,{default:function(){return X}});var f=s(57338),h=s(25084),I=s(49111),i=s(19650),x=s(57663),O=s(71577),m=s(2824),c=s(11849),w=s(34792),p=s(48086),d=s(3182),o=s(94043),u=s.n(o),b=s(8212),v=s(72504),P=s(73171),E=s(49101),D=s(67294),g=s(43581),V=s(81907),ae=s(85224),K=s(23076),Q=s(16514),H=s(5966),q=s(90672),z=s(96459),te=s(96486),W=s.n(te),B=s(4958),n=s(85893),ne=function(j){var r=(0,g.YB)(),a=function(){var l=(0,d.Z)(u().mark(function e(t){var Z;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return Z=p.default.loading("Updating"),y.prev=1,y.next=4,(0,B.yr)({data:(0,c.Z)((0,c.Z)({},j.values),t)});case 4:return Z(),p.default.success("Category updated successfully"),y.abrupt("return",!0);case 9:return y.prev=9,y.t0=y.catch(1),Z(),p.default.error("Category update failed, please try again!"),y.abrupt("return",!1);case 14:case"end":return y.stop()}},e,null,[[1,9]])}));return function(t){return l.apply(this,arguments)}}();return(0,n.jsxs)(Q.Z,{name:"update",title:r.formatMessage({id:"pages.searchTable.createForm.newRule",defaultMessage:"New rule"}),width:"400px",visible:j.updateModalVisible,onCancel:function(){j.onCancel()},onVisibleChange:j.handleUpdateModalVisible,onFinish:function(){var l=(0,d.Z)(u().mark(function e(t){var Z;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,a(t);case 2:Z=y.sent,Z&&j.onSubmit();case 4:case"end":return y.stop()}},e)}));return function(e){return l.apply(this,arguments)}}(),children:[(0,n.jsx)(H.Z,{rules:[{required:!0,message:(0,n.jsx)(g._H,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],label:"Name",width:"md",name:"name",initialValue:W().get(j.values,"name","")}),(0,n.jsx)(q.Z,{rules:[{required:!0,message:(0,n.jsx)(g._H,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],label:"Description",width:"md",name:"description",initialValue:W().get(j.values,"description","")})]})},Y=ne,ue=function(){var N=(0,d.Z)(u().mark(function j(r){var a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.default.loading("Adding new user"),e.prev=1,e.next=4,(0,B.i8)((0,c.Z)({},r));case 4:return a(),p.default.success("New user created successfully"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),a(),p.default.error("Creating new user failed, please try again!"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},j,null,[[1,9]])}));return function(r){return N.apply(this,arguments)}}(),L=function(){var N=(0,d.Z)(u().mark(function j(r){var a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.default.loading("Deleting"),e.prev=1,e.next=4,(0,B.uu)(r);case 4:return a(),p.default.success("Deleted successfully and will refresh soon"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),a(),p.default.error("Delete failed, please try again"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},j,null,[[1,9]])}));return function(r){return N.apply(this,arguments)}}(),le=function(){var j=(0,D.useState)(!1),r=(0,m.Z)(j,2),a=r[0],l=r[1],e=(0,D.useState)(!1),t=(0,m.Z)(e,2),Z=t[0],_=t[1],y=(0,D.useState)(!1),ie=(0,m.Z)(y,2),he=ie[0],oe=ie[1],A=(0,D.useRef)(),ve=(0,D.useState)(),de=(0,m.Z)(ve,2),R=de[0],J=de[1],ge=(0,D.useState)([]),ce=(0,m.Z)(ge,2),k=ce[0],pe=ce[1],fe=(0,g.YB)(),me=[{title:(0,n.jsx)(g._H,{id:"pages.searchTable.pk",defaultMessage:"#"}),dataIndex:"id",tip:"The rule name is the unique key",render:function(C,T){return C}},{title:(0,n.jsx)(g._H,{id:"pages.searchTable.name",defaultMessage:"Name"}),dataIndex:"name",tip:"The rule name is the unique key"},{title:(0,n.jsx)(g._H,{id:"pages.searchTable.description",defaultMessage:"Description"}),dataIndex:"description",tip:"The rule name is the unique key",hideInTable:!0},{title:(0,n.jsx)(g._H,{id:"pages.searchTable.date_joined",defaultMessage:"#"}),dataIndex:"created_at",valueType:"dateTime",tip:"The rule name is the unique key",hideInTable:!0},{title:(0,n.jsx)(g._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(C,T){return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(O.Z,{type:"primary",onClick:function(){_(!0),J(T)},children:(0,n.jsx)(b.Z,{})},"control"),(0,n.jsx)(O.Z,{type:"dashed",onClick:function(){J(T),oe(!0)},children:(0,n.jsx)(v.Z,{})}),(0,n.jsx)(O.Z,{type:"primary",danger:!0,onClick:(0,d.Z)(u().mark(function F(){var U,$,ee,se;return u().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(U=window.confirm("Do you really to remove this item?"),U!=!0){G.next=6;break}return G.next=4,L(T.id);case 4:$=G.sent,$&&A.current&&((ee=A.current)===null||ee===void 0||(se=ee.reloadAndRest)===null||se===void 0||se.call(ee));case 6:case"end":return G.stop()}},F)})),children:(0,n.jsx)(P.Z,{})})]})}}];return(0,n.jsxs)(V.ZP,{children:[(0,n.jsx)(K.ZP,{headerTitle:fe.formatMessage({id:"pages.searchTable.categories_form",defaultMessage:"Categories form"}),actionRef:A,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsxs)(O.Z,{type:"primary",onClick:function(){l(!0)},children:[(0,n.jsx)(E.Z,{})," ",(0,n.jsx)(g._H,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:B.tG,columns:me,rowSelection:{onChange:function(C,T){pe(T)}}}),(k==null?void 0:k.length)>0&&(0,n.jsxs)(ae.Z,{extra:(0,n.jsxs)("div",{children:[(0,n.jsx)(g._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,n.jsx)("a",{style:{fontWeight:600},children:k.length})," ",(0,n.jsx)(g._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"}),"\xA0\xA0",(0,n.jsxs)("span",{children:[(0,n.jsx)(g._H,{id:"pages.searchTable.totalServiceCalls",defaultMessage:"Total number of service calls"})," ",k.reduce(function(M,C){return M+C.callNo},0)," ",(0,n.jsx)(g._H,{id:"pages.searchTable.tenThousand",defaultMessage:"\u4E07"})]})]}),children:[(0,n.jsx)(O.Z,{onClick:(0,d.Z)(u().mark(function M(){var C,T;return u().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,L(k);case 2:pe([]),(C=A.current)===null||C===void 0||(T=C.reloadAndRest)===null||T===void 0||T.call(C);case 4:case"end":return U.stop()}},M)})),children:(0,n.jsx)(g._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})}),(0,n.jsx)(O.Z,{type:"primary",children:(0,n.jsx)(g._H,{id:"pages.searchTable.batchApproval",defaultMessage:"Batch approval"})})]}),(0,n.jsxs)(Q.Z,{name:"create",title:fe.formatMessage({id:"pages.searchTable.createForm.newRule",defaultMessage:"New rule"}),width:"400px",visible:a,onVisibleChange:l,onFinish:function(){var M=(0,d.Z)(u().mark(function C(T){var F;return u().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,ue(T);case 2:F=$.sent,F&&(l(!1),A.current&&A.current.reload());case 4:case"end":return $.stop()}},C)}));return function(C){return M.apply(this,arguments)}}(),children:[(0,n.jsx)(H.Z,{rules:[{required:!0,message:(0,n.jsx)(g._H,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],label:"Name",width:"md",name:"name"}),(0,n.jsx)(q.Z,{rules:[{required:!0,message:(0,n.jsx)(g._H,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],label:"Description",width:"md",name:"description"})]}),(0,n.jsx)(Y,{onSubmit:function(){_(!1),J(void 0),A.current&&A.current.reload()},onCancel:function(){_(!1),J(void 0)},handleUpdateModalVisible:_,updateModalVisible:Z,values:R||{}}),(0,n.jsx)(h.Z,{width:600,visible:he,onClose:function(){J(void 0),oe(!1)},closable:!1,children:(R==null?void 0:R.name)&&(0,n.jsx)(z.Z,{column:2,title:R==null?void 0:R.name,request:(0,d.Z)(u().mark(function M(){return u().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",{data:R||{}});case 1:case"end":return T.stop()}},M)})),params:{id:R==null?void 0:R.id},columns:me})})]})},X=le},4958:function(re,S,s){"use strict";s.d(S,{tG:function(){return w},i8:function(){return d},yr:function(){return u},uu:function(){return v},Dg:function(){return E},gK:function(){return g},nM:function(){return ae},Ir:function(){return Q},Nx:function(){return q},jX:function(){return te},$G:function(){return B},wz:function(){return ne}});var f=s(11849),h=s(3182),I=s(94043),i=s.n(I),x=s(11238),O=function(){var a=(0,x.l7)({prefix:"/",timeout:1e3});return a},m=(0,x.l7)({prefix:"/",timeout:1e3}),c=O();c.interceptors.response.use(function(){var r=(0,h.Z)(i().mark(function a(l){var e;return i().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,l.clone().json();case 2:return e=Z.sent,Z.abrupt("return",{current:e.current,data:e.data.map(function(_,y){return(0,f.Z)((0,f.Z)({},_),{},{key:y})}),pageSize:e.pageSize,success:e.success,total:e.total});case 4:case"end":return Z.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),{global:!1});function w(r,a){return p.apply(this,arguments)}function p(){return p=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c("/categories/",(0,f.Z)({method:"GET",params:(0,f.Z)({},a)},l||{})));case 1:case"end":return t.stop()}},r)})),p.apply(this,arguments)}function d(r,a){return o.apply(this,arguments)}function o(){return o=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m("/categories/",(0,f.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},l||{})));case 1:case"end":return t.stop()}},r)})),o.apply(this,arguments)}function u(r){return b.apply(this,arguments)}function b(){return b=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/categories/".concat(a.data.id,"/"),(0,f.Z)({method:"PATCH"},a||{})));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function v(r){return P.apply(this,arguments)}function P(){return P=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/categories/".concat(a,"/"),{method:"DELETE"}));case 1:case"end":return e.stop()}},r)})),P.apply(this,arguments)}function E(r,a){return D.apply(this,arguments)}function D(){return D=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c("/products/",(0,f.Z)({method:"GET",params:(0,f.Z)({},a)},l||{})));case 1:case"end":return t.stop()}},r)})),D.apply(this,arguments)}function g(r,a){return V.apply(this,arguments)}function V(){return V=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m("/products/",(0,f.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},l||{})));case 1:case"end":return t.stop()}},r)})),V.apply(this,arguments)}function ae(r){return K.apply(this,arguments)}function K(){return K=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/products/".concat(a.data.id,"/"),(0,f.Z)({method:"PATCH"},a||{})));case 1:case"end":return e.stop()}},r)})),K.apply(this,arguments)}function Q(r){return H.apply(this,arguments)}function H(){return H=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/products/".concat(a,"/"),{method:"DELETE"}));case 1:case"end":return e.stop()}},r)})),H.apply(this,arguments)}function q(r,a){return z.apply(this,arguments)}function z(){return z=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c("/items/",(0,f.Z)({method:"GET",params:(0,f.Z)({},a)},l||{})));case 1:case"end":return t.stop()}},r)})),z.apply(this,arguments)}function te(r,a){return W.apply(this,arguments)}function W(){return W=(0,h.Z)(i().mark(function r(a,l){return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m("/items/",(0,f.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:a},l||{})));case 1:case"end":return t.stop()}},r)})),W.apply(this,arguments)}function B(r){return n.apply(this,arguments)}function n(){return n=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/items/".concat(a.data.id,"/"),(0,f.Z)({method:"PATCH"},a||{})));case 1:case"end":return e.stop()}},r)})),n.apply(this,arguments)}function ne(r){return Y.apply(this,arguments)}function Y(){return Y=(0,h.Z)(i().mark(function r(a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/items/".concat(a,"/"),{method:"DELETE"}));case 1:case"end":return e.stop()}},r)})),Y.apply(this,arguments)}function ue(r,a){return L.apply(this,arguments)}function L(){return L=_asyncToGenerator(_regeneratorRuntime.mark(function r(a,l){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c("/users",_objectSpread({method:"GET",params:_objectSpread({},a)},l||{})));case 1:case"end":return t.stop()}},r)})),L.apply(this,arguments)}function le(r,a){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function r(a,l){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m("/users/",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},l||{})));case 1:case"end":return t.stop()}},r)})),X.apply(this,arguments)}function N(r){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime.mark(function r(a){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("/users/".concat(a.data.pk,"/"),_objectSpread({method:"PUT"},a||{})));case 1:case"end":return e.stop()}},r)})),j.apply(this,arguments)}}}]);
